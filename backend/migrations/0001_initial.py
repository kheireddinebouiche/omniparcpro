# Generated by Django 4.1.7 on 2023-03-05 20:03

import backend.models
from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import django_countries.fields
import multiselectfield.db.fields
import phonenumber_field.modelfields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Annonce',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('article', models.CharField(max_length=200)),
                ('localisation', models.CharField(blank=True, max_length=300, null=True)),
                ('date', models.DateField(blank=True, null=True)),
                ('created_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('slug', models.SlugField(blank=True, null=True, unique=True)),
                ('duree_location', models.IntegerField(blank=True, null=True)),
                ('date_de_debut', models.DateField(blank=True, null=True)),
                ('date_de_fin', models.DateField(blank=True, null=True)),
                ('avec_operateur', models.BooleanField(blank=True, default=False, null=True)),
                ('reprise_livraison', models.BooleanField(blank=True, default=False, null=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='BillingAddress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('street_address', models.CharField(max_length=100)),
                ('appartement_address', models.CharField(max_length=100)),
                ('country', django_countries.fields.CountryField(max_length=2)),
                ('zip', models.CharField(max_length=100)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Item',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=100, unique=True)),
                ('price', models.FloatField(null=True)),
                ('prix_avec_operateur', models.FloatField(null=True)),
                ('prix_avec_livraison_reprise', models.FloatField(null=True)),
                ('mode_location', models.CharField(blank=True, choices=[('PH', 'Heure'), ('PJ', 'Jour')], max_length=2, null=True)),
                ('reprise_livraison', models.CharField(blank=True, max_length=33, null=True)),
                ('discount_price', models.FloatField(blank=True, null=True)),
                ('category', models.CharField(choices=[('TH', 'Travaux en hauteur'), ('TE', 'Terrassement & Extraction'), ('LM', 'Levage & Manutention'), ('CT', 'Chargement & Transport'), ('GD', 'Gros Oeuvre & Démolition')], max_length=4)),
                ('label', models.CharField(choices=[('CNP', 'Camion Nacelle PT'), ('CNV', 'Camion Nacelle VI'), ('ER', 'Echaffaudage Roulant'), ('NA', 'Nacelle Araignée'), ('NAR', 'Nacelle Articulée'), ('NC', 'Nacelle Ciseaux'), ('NT', 'Nacelle Telescopique'), ('NTC', 'Nacelle Toucon'), ('NEL', 'Nacelle Elevatrice'), ('B', 'Buldozer'), ('C', 'Chargeuse'), ('MC', 'Mini Chargeuse'), ('MP', 'Mini Pelle'), ('P', 'Pelleteuse'), ('CH', 'Chariot Elevateur'), ('CT', 'Chariot Telescopique'), ('GT', 'Gerbeur & Transpalette'), ('GMV', 'Glaslift: Monte vitre'), ('G', 'Grue Mobile'), ('GSR', 'Grue sur remorque'), ('MGA', 'Mini Grue araignée'), ('MGB', 'Mini Grue mobile'), ('MCA', 'Monte Charge'), ('BE', 'Benne'), ('CB', 'Camion Benne'), ('CBG', 'Camion Bras de grue'), ('TOM', 'Tombereau'), ('RB', 'Rebot de démolition')], max_length=4)),
                ('slug', models.SlugField(unique=True)),
                ('image', models.ImageField(null=True, upload_to='')),
                ('date_debut', models.DateField(default=None, null=True)),
                ('date_fin', models.DateField(default=None, null=True)),
                ('disp', multiselectfield.db.fields.MultiSelectField(choices=[('DIM', 'Dimanche'), ('LUN', 'Lundi'), ('MAR', 'Mardi'), ('MER', 'Mercredi'), ('JEU', 'Jeudi'), ('VEN', 'Vendredi'), ('SAM', 'Samedi'), ('AUC', 'Aucune disponibilité')], max_length=20, null=True)),
                ('description', models.TextField()),
                ('localisation_engin', models.CharField(blank=True, max_length=200, null=True)),
                ('motorisation', models.CharField(blank=True, max_length=300, null=True)),
                ('disponible', models.BooleanField(default=True)),
                ('view_count', models.IntegerField(blank=True, default=0, null=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Items',
                'ordering': ['title'],
            },
        ),
        migrations.CreateModel(
            name='ShippingAddress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('street_address', models.CharField(max_length=100)),
                ('appartement_address', models.CharField(max_length=100)),
                ('country', django_countries.fields.CountryField(max_length=2)),
                ('zip', models.CharField(max_length=100)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Profile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('organisation', models.CharField(blank=True, max_length=50, null=True)),
                ('phone_number', phonenumber_field.modelfields.PhoneNumberField(blank=True, max_length=128, null=True, region=None)),
                ('adresse', models.CharField(blank=True, max_length=300, null=True)),
                ('photo_de_profile', models.ImageField(blank=True, null=True, upload_to='')),
                ('is_entreprise', models.BooleanField(default=False)),
                ('is_particulier', models.BooleanField(default=False)),
                ('is_offre', models.BooleanField(default=False)),
                ('raison_social', models.CharField(blank=True, max_length=33, null=True)),
                ('adresse_siege', models.CharField(blank=True, max_length=400, null=True)),
                ('nif', models.CharField(blank=True, max_length=30, null=True)),
                ('nis', models.CharField(blank=True, max_length=30, null=True)),
                ('banniere', models.ImageField(blank=True, null=True, upload_to='')),
                ('slug', models.SlugField(blank=True, max_length=100, null=True)),
                ('note', models.BooleanField(default=False)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='OrderItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('item_order_id', models.CharField(blank=True, default=backend.models.increment_order_id_number, max_length=1000, null=True)),
                ('ordered', models.BooleanField(default=False)),
                ('quantity', models.IntegerField(default=1)),
                ('status', models.CharField(blank=True, choices=[('ET', 'En cours de traitement'), ('CV', 'Commande valider'), ('CET', 'Commande on cours de livraison'), ('CA', 'Commande annuler'), ('CL', 'Commande livrée')], max_length=3, null=True)),
                ('date_de_demande', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('slug', models.SlugField(blank=True, null=True, unique=True)),
                ('avec_operateur', models.CharField(blank=True, max_length=33, null=True)),
                ('reprise_livraison', models.CharField(blank=True, max_length=33, null=True)),
                ('duree_location', models.IntegerField(blank=True, null=True)),
                ('prix_unitaire', models.FloatField(blank=True, max_length=30, null=True)),
                ('montant_total', models.FloatField(blank=True, max_length=30, null=True)),
                ('montant_service_adi', models.FloatField(blank=True, max_length=30, null=True)),
                ('reference_devis', models.CharField(blank=True, max_length=300, null=True)),
                ('date_debut_commande', models.DateField(blank=True, null=True)),
                ('date_fin_commande', models.DateField(blank=True, null=True)),
                ('addresse_livraison', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='backend.shippingaddress')),
                ('item', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='backend.item')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateField(auto_now_add=True)),
                ('ordered_date', models.DateTimeField()),
                ('ordered', models.BooleanField(default=False)),
                ('billing_address', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='backend.billingaddress')),
                ('items', models.ManyToManyField(to='backend.orderitem')),
                ('shipping_address', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='backend.shippingaddress')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='DevisItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('id_devis', models.CharField(blank=True, default=backend.models.increment_devis_id_number, max_length=1000, null=True)),
                ('slug', models.SlugField(blank=True, null=True, unique=True)),
                ('prix_unitaire', models.FloatField(blank=True, null=True)),
                ('mode_location', models.CharField(max_length=100)),
                ('dure_location', models.IntegerField(default=1)),
                ('montant_location', models.FloatField(null=True)),
                ('avec_operateur', models.CharField(max_length=33)),
                ('reprise_livraison', models.CharField(blank=True, max_length=33, null=True)),
                ('entreprise_emetrice', models.CharField(blank=True, max_length=200, null=True)),
                ('gerant_emeteur', models.CharField(blank=True, max_length=100, null=True)),
                ('user_owner', models.CharField(blank=True, max_length=100, null=True)),
                ('tel_emeteur', models.CharField(blank=True, max_length=14, null=True)),
                ('email_emeteur', models.CharField(blank=True, max_length=100, null=True)),
                ('adresse_emeteur', models.CharField(blank=True, max_length=100, null=True)),
                ('entreprise_reception', models.CharField(blank=True, max_length=200, null=True)),
                ('gerant_reception', models.CharField(blank=True, max_length=100, null=True)),
                ('tel_reception', models.CharField(blank=True, max_length=14, null=True)),
                ('email_reception', models.CharField(blank=True, max_length=100, null=True)),
                ('etat_devis', models.CharField(blank=True, max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('montant_service_adi', models.FloatField(blank=True, max_length=30, null=True)),
                ('is_confirmed', models.BooleanField(blank=True, default=False, null=True)),
                ('devis_date_debut', models.DateField(blank=True, null=True)),
                ('devis_date_fin', models.DateField(blank=True, null=True)),
                ('adreese_chantier', models.ForeignKey(blank=True, max_length=300, null=True, on_delete=django.db.models.deletion.SET_NULL, to='backend.shippingaddress')),
                ('item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='backend.item')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Annonce_responde',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('slug_annonce', models.CharField(blank=True, max_length=400, null=True)),
                ('created_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('approuved_proposition', models.BooleanField(default=False)),
                ('prix', models.CharField(blank=True, max_length=300, null=True)),
                ('duree_location', models.IntegerField(blank=True, null=True)),
                ('date_debut_commande', models.DateField(blank=True, null=True)),
                ('date_fin_commande', models.DateField(blank=True, null=True)),
                ('avec_operateur', models.BooleanField(blank=True, default=False, null=True)),
                ('livraison_reprise', models.BooleanField(blank=True, default=False, null=True)),
                ('montant_global', models.FloatField(blank=True, max_length=30, null=True)),
                ('is_approuved', models.BooleanField(default=False)),
                ('is_choosed', models.BooleanField(default=False)),
                ('ann', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='backend.annonce')),
                ('auteur', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='backend.item')),
            ],
        ),
    ]
